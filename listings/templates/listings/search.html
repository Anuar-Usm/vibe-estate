{% extends 'base.html' %}

{% block content %}
<section id="showcase-inner" style="background: #1a1a1a; padding: 60px 0; color: white; text-align: center;">
    <div class="container">
        <h1>Результаты поиска</h1>
        <p>Мы подобрали лучшие варианты по вашему запросу</p>
    </div>
</section>

{% include 'partials/_search.html' %}

<section id="listings" style="padding: 40px 0;">
    <div class="container">
        <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 30px;">
            {% if listings %}
                {% for listing in listings %}
                    <div style="background: white; border-radius: 15px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                        <img src="{{ listing.photo_main.url }}" alt="" style="width: 100%; height: 200px; object-fit: cover;">
                        <div style="padding: 20px;">
                            <h4 style="color: #c5a059;">{{ listing.title }}</h4>
                            <p style="color: #666;"><i class="fas fa-map-marker-alt"></i> {{ listing.city }}</p>
                            <hr>
                            <div style="display: flex; justify-content: space-between; font-weight: bold;">
                                <span>${{ listing.price }}</span>
                                <a href="{% url 'property' listing.id %}" style="color: #c5a059; text-decoration: none;">Подробнее</a>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            {% else %}
                <div style="grid-column: 1 / -1; text-align: center; padding: 50px;">
                    <p style="font-size: 20px; color: #888;">Объектов не найдено. Попробуйте изменить параметры поиска.</p>
                </div>
            {% endif %}
        </div>
    </div>
</section>
{% endblock %}